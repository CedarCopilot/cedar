---
title: 'Mentions'
description: 'Enable @ mentions for contextual references in chat'
---

# Mentions

Cedar's mention system allows users to reference specific data, people, or objects in their messages using @ symbols. This provides a natural way to give agents precise context about what the user is referring to.

## Basic Mentions Setup

Enable mentions in your chat input:

```tsx
import { ChatInput, useStateBasedMentionProvider } from 'cedar-os';

function MentionEnabledChat() {
	// Set up mention providers
	useStateBasedMentionProvider('todos', {
		displayField: 'text',
		searchFields: ['text', 'category'],
		icon: '‚úì',
	});

	return (
		<ChatInput
			enableMentions={true}
			mentionTrigger='@'
			placeholder='Type @ to mention items...'
		/>
	);
}
```

## Built-in Mention Providers

### State-Based Mentions

Reference registered application state:

```tsx
import { useCedarState, useStateBasedMentionProvider } from 'cedar-os';

function TodoApp() {
	const [todos, setTodos] = useState([
		{ id: 1, text: 'Buy groceries', category: 'shopping' },
		{ id: 2, text: 'Call dentist', category: 'health' },
	]);

	// Register state
	useCedarState('todos', todos);

	// Enable mentions for todos
	useStateBasedMentionProvider('todos', {
		displayField: 'text',
		searchFields: ['text', 'category'],
		icon: 'üìù',
		color: '#3b82f6',
	});

	return <ChatInput enableMentions={true} />;
}
```

### User Mentions

Mention team members or users:

```tsx
const users = [
	{
		id: 1,
		name: 'Alice Johnson',
		email: 'alice@company.com',
		role: 'Designer',
	},
	{ id: 2, name: 'Bob Smith', email: 'bob@company.com', role: 'Developer' },
];

useMentionProvider('users', users, {
	displayField: 'name',
	searchFields: ['name', 'email', 'role'],
	icon: 'üë§',
	formatter: (user) => `@${user.name} (${user.role})`,
});
```

## Custom Mention Providers

Create custom mention sources:

```tsx
import { useMentionProvider } from 'cedar-os';

function CustomMentions() {
	// Static mention provider
	useMentionProvider(
		'commands',
		[
			{ id: 'help', name: 'help', description: 'Show available commands' },
			{ id: 'reset', name: 'reset', description: 'Reset the conversation' },
			{ id: 'export', name: 'export', description: 'Export chat history' },
		],
		{
			displayField: 'name',
			searchFields: ['name', 'description'],
			icon: '‚ö°',
			category: 'Commands',
		}
	);

	// Dynamic mention provider
	useMentionProvider(
		'files',
		async (query) => {
			const files = await searchFiles(query);
			return files.map((file) => ({
				id: file.id,
				name: file.name,
				path: file.path,
				type: file.type,
			}));
		},
		{
			displayField: 'name',
			searchFields: ['name', 'path'],
			icon: 'üìÑ',
			debounceMs: 300, // Debounce API calls
		}
	);

	return <ChatInput enableMentions={true} />;
}
```

## Mention Configuration

Customize mention behavior:

```tsx
<ChatInput
	enableMentions={true}
	mentionConfig={{
		trigger: '@',
		minQueryLength: 1,
		maxSuggestions: 10,
		caseSensitive: false,
		highlightColor: '#3b82f6',

		// Customize suggestion rendering
		renderSuggestion: (item, provider) => (
			<div className='flex items-center gap-2 p-2'>
				<span className='text-lg'>{provider.icon}</span>
				<div>
					<div className='font-medium'>{item[provider.displayField]}</div>
					<div className='text-sm text-gray-500'>{item.description}</div>
				</div>
			</div>
		),

		// Customize mention rendering in input
		renderMention: (mention) => (
			<span className='bg-blue-100 text-blue-800 px-1 rounded'>
				{mention.provider.icon} {mention.display}
			</span>
		),
	}}
/>
```

## Multiple Mention Types

Support different mention triggers:

```tsx
function MultiMentionChat() {
	// @ for users
	useMentionProvider('users', users, {
		trigger: '@',
		displayField: 'name',
		icon: 'üë§',
	});

	// # for channels/topics
	useMentionProvider('channels', channels, {
		trigger: '#',
		displayField: 'name',
		icon: 'üì¢',
	});

	// / for commands
	useMentionProvider('commands', commands, {
		trigger: '/',
		displayField: 'name',
		icon: '‚ö°',
	});

	return <ChatInput enableMentions={true} mentionTriggers={['@', '#', '/']} />;
}
```

## Contextual Mentions

Show different mentions based on context:

```tsx
function ContextualMentions() {
	const currentPage = useCurrentPage();

	// Conditional mention providers
	useEffect(() => {
		if (currentPage === 'projects') {
			useMentionProvider('projects', getProjects(), {
				displayField: 'name',
				icon: 'üìÅ',
			});
		} else if (currentPage === 'tasks') {
			useMentionProvider('tasks', getTasks(), {
				displayField: 'title',
				icon: '‚úÖ',
			});
		}
	}, [currentPage]);

	return <ChatInput enableMentions={true} />;
}
```

## Mention Data in Context

Access mentioned items in your agent context:

```tsx
// When user types: "Update the status of @task-123 to completed"
// The agent receives:
{
  message: "Update the status of @task-123 to completed",
  mentions: [
    {
      id: "task-123",
      type: "tasks",
      data: {
        id: "task-123",
        title: "Implement user authentication",
        status: "in-progress",
        assignee: "Alice"
      },
      position: { start: 23, end: 32 }
    }
  ]
}
```

## Advanced Mention Features

### Mention Validation

Validate mentions before sending:

```tsx
const mentionValidator = (mentions) => {
	for (const mention of mentions) {
		if (mention.type === 'users' && !mention.data.active) {
			return `User ${mention.data.name} is no longer active`;
		}
		if (mention.type === 'projects' && mention.data.archived) {
			return `Project ${mention.data.name} is archived`;
		}
	}
	return null; // Valid
};

<ChatInput enableMentions={true} mentionValidator={mentionValidator} />;
```

### Mention Permissions

Control who can mention what:

```tsx
const mentionPermissions = {
	users: (user, mentionedUser) => {
		// Only allow mentioning users in same team
		return user.teamId === mentionedUser.teamId;
	},

	projects: (user, project) => {
		// Only allow mentioning projects user has access to
		return project.members.includes(user.id);
	},
};

<ChatInput enableMentions={true} mentionPermissions={mentionPermissions} />;
```

### Rich Mention Previews

Show detailed previews when hovering over mentions:

```tsx
const mentionPreviews = {
	users: (user) => (
		<div className='p-3 bg-white border rounded shadow-lg'>
			<div className='flex items-center gap-2'>
				<img src={user.avatar} className='w-8 h-8 rounded-full' />
				<div>
					<div className='font-medium'>{user.name}</div>
					<div className='text-sm text-gray-500'>{user.role}</div>
				</div>
			</div>
		</div>
	),

	tasks: (task) => (
		<div className='p-3 bg-white border rounded shadow-lg'>
			<div className='font-medium'>{task.title}</div>
			<div className='text-sm text-gray-500'>
				Status: {task.status} ‚Ä¢ Due: {task.dueDate}
			</div>
		</div>
	),
};

<ChatInput enableMentions={true} mentionPreviews={mentionPreviews} />;
```

## Next Steps

- Explore [state access patterns](/getting-started/state-access/agentic-state-access)
- Learn about [spells and shortcuts](/getting-started/spells/spells)
